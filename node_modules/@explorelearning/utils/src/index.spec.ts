/* eslint-disable @typescript-eslint/no-var-requires */
import * as utils from './index';

describe('index', () => {
  it('should contain all of the single functions from the functions dir', () => {
    const fncs = require('fs')
      .readdirSync(__dirname + '/functions')
      .filter(n => n.match(/\.ts$/) && !n.match(/\.spec\.ts$/))
      .reduce((acc, n) => ({ ...acc, [n.replace('.ts', '')]: require(`./functions/${n}`).default }), {});

    Object.keys(fncs).forEach(key => {
      expect(utils[key]).toEqual(fncs[key]);
    });
  });
});
