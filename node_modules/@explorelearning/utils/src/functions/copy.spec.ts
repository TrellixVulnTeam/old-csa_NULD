import copy from './copy';

describe('copy', () => {
  it('should deep copy an object', () => {
    const foo = {
      bar: 'a',
      baz: { a: { b: { c: 1 } } }
    };
    const copied = copy(foo);
    expect(copied.bar).toEqual('a');
    expect(copied.baz.a.b.c).toEqual(1);

    copied.bar = 'b';
    expect(copied.bar).toEqual('b');
    expect(foo.bar).toEqual('a');
  });

  it('should deep copy an array', () => {
    const foo = ['a'];
    const copied = copy(foo);
    expect(copied[0]).toEqual('a');
  });

  it('should be able to copy functions', () => {
    const foo = {
      bar: {
        baz: (): string => 'baz'
      }
    };
    const copied = copy(foo);
    expect(copied.bar.baz()).toEqual('baz');
  });
});
