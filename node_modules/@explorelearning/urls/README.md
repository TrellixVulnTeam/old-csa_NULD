# @explorelearning/urls

Vue plugin for referencing common urls relative to the current domain name. Useful for allowing apps to be built into a build which can be hosted on any environment.

## Usage

### Installation and Setup

Install like so:

```bash
npm i -S @explorelearning/urls
```

In your app's main entry-point file:

```js
import Vue from 'vue';
import UrlsPlugin from '@explorelearning/urls';

Vue.use(UrlsPlugin);
```

### Usage in components

Now, all Vue components in the app have a reference to `this.$urls` which is an object that maps properties to environment-specific urls. Depending on the `window.location` that the app is currently running on, the plugin will provide urls for that environment.

Here's a simple example:

```vue
<template>
  <a :href="$urls.accounts">Click here to go to account services</a>
</template>
```

In this case, if the app is running on explorelearning.com, `$urls.accounts` will resolve to `https://apps.explorelearning.com/account`, if it is running on elcloudstage.net, it will resolve to `https://apps.elcloudstage.net/account`, and otherwise it will resolve to `https://apps.elclouddev.net/account`.

### Usage outside of components

If you need to access a url's value outside of a Vue component, you can use the `getUrls` method to generate the environment-specific urls object.

For example:

```js
import Vue from 'vue';
import urls from '@explorelearning/urls';

new Vue({
  el: '#app',
  store: new Vuex.Store({
    plugins: [IcVuex({ url: urls.getUrls().nextgen })]
  }),
  render: h => h(App)
});
```

### Overriding urls

If there are any urls that you want to override either for local development or for app-specific purposes, you can by specifying an environmental variable in an applicable `.env` file in this format:

```env
EL_URLS_NAME_OF_URL="http://localhost:8080/custom-url"
```

For example:

```env
EL_URLS_LOGIN="http://localhost:10002/nextgen/demo"
```

As a specific example, you could have a `.env.serve` file that overrides the login and logout endpoints locally to point to locally running apps, and serve your app using `vue-cli-services serve --mode serve`. This will override the login and logout endpoints while working locally, but the app will be built with the default values for login and logout.

### List of all urls

[A list of all keys and resolved urls per environment is available in `ResolvedUrls.md`.](https://github.com/ExploreLearning/el-web/blob/main/packages/urls/ResolvedUrls.md)
